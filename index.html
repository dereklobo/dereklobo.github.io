<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="On a journey to help those who come my way. 
            I also happen to be a curious software engineer, an outdoor enthusiast and a foodie. - Derek Lobo"
        >
        <meta name="author" content="Derek Lobo">
        
        <!-- Add permissions policy -->
        <meta http-equiv="Permissions-Policy" content="geolocation=(), camera=(), microphone=()">
        <!-- Add referrer policy -->
        <meta name="referrer" content="strict-origin-when-cross-origin">
        <meta property="og:site_name" content="Derek Lobo's personal website">
        <meta property="og:title" content="Derek Lobo" />
        <meta property="og:description" content="On a journey to help those who come my way. 
            I also happen to be a curious software engineer, an outdoor enthusiast and a foodie." />
        <meta property="og:image" itemprop="image" content="https://www.gravatar.com/avatar/37f58fba42763a391a0eb1a2897e6712?s=400">
        <meta property="og:image:alt" content="Derek Lobo's photo" />
        <meta property="og:type" content="website" />

        <title>Derek Lobo - Developer</title>

        <!-- Favicon -->
        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="favicon/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="favicon/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="favicon/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="favicon/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="favicon/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="favicon/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="favicon/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="favicon/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="favicon/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="favicon/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="favicon/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="favicon/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="favicon/favicon-128.png" sizes="128x128" />
        <link rel="icon" type="image/x-icon" href="favicon/favicon.ico?">
        <meta name="application-name" content="Derek Lobo"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="mstile-310x310.png" />

        <!-- Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Nunito:200,600" rel="stylesheet">

        <!-- Styles -->
        <link rel="stylesheet" href="css/main.css">

        <!-- Spam Referal blocker -->
        <script src="https://github.com/MohamedBassem/spam-referrals-blocker/releases/download/v0.2/spam-referrals-blocker.min.js"></script>

        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-168463636-1"></script>

        <script type="text/javascript">
            if( !isSpamReferral() ){
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());

                gtag('config', 'UA-168463636-1');
            }
        </script>
         <!-- Tailwind CSS CDN -->
        <script src="https://cdn.tailwindcss.com"></script>
        <!-- Add focus styles for better keyboard navigation -->

        <!-- Add CSP header -->
        <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://cdn.tailwindcss.com https://www.googletagmanager.com; style-src 'self' https://fonts.googleapis.com;"> -->
        
    </head>
    <body>
        <!-- Add skip to main content link -->
        <a href="#main" class="sr-only focus:not-sr-only">Skip to main content</a>
        <div class="full-height">
            <nav class="flex justify-end p-4" role="navigation" aria-label="Main navigation">
                <!-- Dark/Light mode toggle button -->
                <button id="theme-toggle" aria-label="Toggle dark mode" class="text-md mr-3 rounded" type="button">
                    <!-- Sun for light, moon for dark (swap with JS) -->
                    <span id="theme-icon">🌙</span>
                </button>
                <!-- Add this to your <nav> after the dark mode toggle button -->
                <button id="font-decrease" aria-label="Decrease font size" class="text-md mr-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" type="button">
                    <span aria-hidden="true" style="font-size:1.2em;">A-</span>
                </button>
                <button id="font-increase" aria-label="Increase font size" class="text-md mr-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" type="button">
                    <span aria-hidden="true" style="font-size:1.2em;">A+</span>
                </button>

            </nav>
            <div id="main" class="content">
                <div class="title m-b-md" role="banner">
                    Derek Lobo
                </div>
                <div class="links" role="main">
                    <a href="https://www.linkedin.com/in/idereklobo/" class="external-link" target="_blank" rel="noopener noreferrer external" aria-label="Visit Derek Lobo's LinkedIn profile (opens in new tab)">LinkedIn</a>
                    <a href="https://github.com/dereklobo" target="_blank" rel="noopener noreferrer external" aria-label="Lobo Derek's github repository">GitHub</a>
                    <a href="about.html" aria-label="read more about Derek Lobo">About</a>
                </div>
            </div>
        </div>
        <footer class="footer" role="contentinfo">
            <a class="contact" href="mailto:loboiderek@gmail.com" aria-label="Compose Email to Derek Lobo">contact</a>
        </footer>
        <script>
            const themeToggle = document.getElementById('theme-toggle');
            const themeIcon = document.getElementById('theme-icon');
            const html = document.documentElement;

            function setTheme(dark) {
                if (dark) {
                    html.classList.add('dark');
                    themeIcon.textContent = '☀️';
                    themeToggle.setAttribute('aria-label', 'Switch to light mode');
                } else {
                    html.classList.remove('dark');
                    themeIcon.textContent = '🌙';
                    themeToggle.setAttribute('aria-label', 'Switch to dark mode');
                }
                localStorage.setItem('theme', dark ? 'dark' : 'light');
            }

            // Initial theme
            const userPref = localStorage.getItem('theme');
            const systemPref = window.matchMedia('(prefers-color-scheme: dark)').matches;
            setTheme(userPref === 'dark' || (!userPref && systemPref));

            // Toggle on click
            themeToggle.addEventListener('click', () => {
                setTheme(!html.classList.contains('dark'));
            });

            // Font size adjustment
            const mainContent = document.getElementById('main');
            const fontIncrease = document.getElementById('font-increase');
            const fontDecrease = document.getElementById('font-decrease');
            let fontSize = 16; // default font size in px

            function setFontSize(size) {
                fontSize = Math.max(12, Math.min(size, 24)); // limit between 12px and 24px
                mainContent.style.fontSize = fontSize + 'px';
                localStorage.setItem('fontSize', fontSize);
            }

            // Load saved font size
            const savedFontSize = localStorage.getItem('fontSize');
            if (savedFontSize) setFontSize(Number(savedFontSize));

            // Increase font size
            fontIncrease.addEventListener('click', () => setFontSize(fontSize + 2));

            // Decrease font size
            fontDecrease.addEventListener('click', () => setFontSize(fontSize - 2));
        </script>
    </body>
</html>

